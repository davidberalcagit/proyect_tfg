name: Coches
description: |-

  Gestión del inventario de vehículos.
endpoints:
  -
    custom: []
    httpMethods:
      - GET
    uri: api/cars
    metadata:
      custom: []
      groupName: Coches
      groupDescription: |-

        Gestión del inventario de vehículos.
      subgroup: ''
      subgroupDescription: ''
      title: 'Listar Coches Disponibles'
      description: 'Obtiene una lista paginada de coches que están en estado "En Venta" (1).'
      authenticated: true
      deprecated: false
    headers:
      Authorization: 'Bearer e.g. 1|laravel_sanctum_token...'
      Content-Type: application/json
      Accept: application/json
    urlParameters: []
    cleanUrlParameters: []
    queryParameters:
      page:
        custom: []
        name: page
        description: 'El número de página.'
        required: false
        example: 1
        type: integer
        enumValues: []
        exampleWasSpecified: true
        nullable: false
        deprecated: false
      search:
        custom: []
        name: search
        description: 'Término de búsqueda opcional.'
        required: false
        example: Toyota
        type: string
        enumValues: []
        exampleWasSpecified: true
        nullable: false
        deprecated: false
    cleanQueryParameters:
      page: 1
      search: Toyota
    bodyParameters: []
    cleanBodyParameters: []
    fileParameters: []
    responses:
      -
        custom: []
        status: 200
        content: |-
          {
           "current_page": 1,
           "data": [
             {
               "id": 1,
               "title": "Toyota Corolla 2020",
               "precio": 15000,
               "km": 50000,
               "image": "cars/imagen.jpg",
               "marca": {
                 "id": 1,
                 "nombre": "Toyota"
               },
               "modelo": {
                 "id": 1,
                 "nombre": "Corolla"
               },
               "status": {
                 "id": 1,
                 "nombre": "En Venta"
               }
             }
           ],
           "first_page_url": "http://localhost/api/cars?page=1",
           "from": 1,
           "last_page": 5,
           "last_page_url": "http://localhost/api/cars?page=5",
           "next_page_url": "http://localhost/api/cars?page=2",
           "path": "http://localhost/api/cars",
           "per_page": 20,
           "prev_page_url": null,
           "to": 20,
           "total": 100
          }
        headers: []
        description: ''
    responseFields: []
    auth:
      - headers
      - Authorization
      - 'Bearer 6g43cv8PD1aE5beadkZfhV6'
    controller: null
    method: null
    route: null
  -
    custom: []
    httpMethods:
      - GET
    uri: 'api/cars/{id}'
    metadata:
      custom: []
      groupName: Coches
      groupDescription: |-

        Gestión del inventario de vehículos.
      subgroup: ''
      subgroupDescription: ''
      title: 'Ver Detalle de Coche'
      description: 'Obtiene los detalles completos de un coche específico.'
      authenticated: true
      deprecated: false
    headers:
      Authorization: 'Bearer e.g. 1|laravel_sanctum_token...'
      Content-Type: application/json
      Accept: application/json
    urlParameters:
      id:
        custom: []
        name: id
        description: 'El ID del coche.'
        required: true
        example: 1
        type: integer
        enumValues: []
        exampleWasSpecified: true
        nullable: false
        deprecated: false
    cleanUrlParameters:
      id: 1
    queryParameters: []
    cleanQueryParameters: []
    bodyParameters: []
    cleanBodyParameters: []
    fileParameters: []
    responses:
      -
        custom: []
        status: 200
        content: |-
          {
           "id": 1,
           "title": "Toyota Corolla 2020",
           "precio": 15000,
           "descripcion": "Coche en perfecto estado...",
           "marca": { "id": 1, "nombre": "Toyota" },
           "modelo": { "id": 1, "nombre": "Corolla" },
           "status": { "id": 1, "nombre": "En Venta" }
          }
        headers: []
        description: ''
      -
        custom: []
        status: 404
        content: |-
          {
           "message": "No query results for model [App\\Models\\Cars] 999"
          }
        headers: []
        description: ''
    responseFields: []
    auth:
      - headers
      - Authorization
      - 'Bearer 6g43cv8PD1aE5beadkZfhV6'
    controller: null
    method: null
    route: null
  -
    custom: []
    httpMethods:
      - GET
    uri: api/my-cars
    metadata:
      custom: []
      groupName: Coches
      groupDescription: |-

        Gestión del inventario de vehículos.
      subgroup: ''
      subgroupDescription: ''
      title: 'Mis Coches'
      description: 'Lista los coches publicados por el usuario autenticado.'
      authenticated: true
      deprecated: false
    headers:
      Authorization: 'Bearer e.g. 1|laravel_sanctum_token...'
      Content-Type: application/json
      Accept: application/json
    urlParameters: []
    cleanUrlParameters: []
    queryParameters: []
    cleanQueryParameters: []
    bodyParameters: []
    cleanBodyParameters: []
    fileParameters: []
    responses:
      -
        custom: []
        status: 200
        content: |-
          [
           {
               "id": 1,
               "title": "Toyota Corolla 2020",
               "status": { "nombre": "En Venta" }
           }
          ]
        headers: []
        description: ''
      -
        custom: []
        status: 401
        content: |-
          {
           "message": "Unauthenticated."
          }
        headers: []
        description: ''
    responseFields: []
    auth:
      - headers
      - Authorization
      - 'Bearer 6g43cv8PD1aE5beadkZfhV6'
    controller: null
    method: null
    route: null
  -
    custom: []
    httpMethods:
      - POST
    uri: api/cars
    metadata:
      custom: []
      groupName: Coches
      groupDescription: |-

        Gestión del inventario de vehículos.
      subgroup: ''
      subgroupDescription: ''
      title: 'Crear Coche'
      description: |-
        Publica un nuevo vehículo. El estado inicial será "Pendiente" (4).
        Requiere que el usuario tenga un perfil de vendedor (Customer).
      authenticated: true
      deprecated: false
    headers:
      Authorization: 'Bearer e.g. 1|laravel_sanctum_token...'
      Content-Type: multipart/form-data
      Accept: application/json
    urlParameters: []
    cleanUrlParameters: []
    queryParameters: []
    cleanQueryParameters: []
    bodyParameters:
      id_marca:
        custom: []
        name: id_marca
        description: 'ID de la marca (opcional si usa temp_brand).'
        required: false
        example: 1
        type: integer
        enumValues: []
        exampleWasSpecified: true
        nullable: true
        deprecated: false
      id_modelo:
        custom: []
        name: id_modelo
        description: 'ID del modelo (opcional si usa temp_model).'
        required: false
        example: 1
        type: integer
        enumValues: []
        exampleWasSpecified: true
        nullable: true
        deprecated: false
      temp_brand:
        custom: []
        name: temp_brand
        description: 'Nombre de marca nueva (si no existe).'
        required: false
        example: Tesla
        type: string
        enumValues: []
        exampleWasSpecified: true
        nullable: true
        deprecated: false
      temp_model:
        custom: []
        name: temp_model
        description: 'Nombre de modelo nuevo (si no existe).'
        required: false
        example: Cybertruck
        type: string
        enumValues: []
        exampleWasSpecified: true
        nullable: true
        deprecated: false
      id_combustible:
        custom: []
        name: id_combustible
        description: 'ID del tipo de combustible.'
        required: true
        example: 1
        type: integer
        enumValues: []
        exampleWasSpecified: true
        nullable: false
        deprecated: false
      id_marcha:
        custom: []
        name: id_marcha
        description: 'ID del tipo de marcha.'
        required: true
        example: 1
        type: integer
        enumValues: []
        exampleWasSpecified: true
        nullable: false
        deprecated: false
      precio:
        custom: []
        name: precio
        description: 'Precio en euros.'
        required: true
        example: 15000.0
        type: number
        enumValues: []
        exampleWasSpecified: true
        nullable: false
        deprecated: false
      anyo_matri:
        custom: []
        name: anyo_matri
        description: 'Año de matriculación.'
        required: true
        example: 2020
        type: integer
        enumValues: []
        exampleWasSpecified: true
        nullable: false
        deprecated: false
      km:
        custom: []
        name: km
        description: Kilometraje.
        required: true
        example: 50000
        type: integer
        enumValues: []
        exampleWasSpecified: true
        nullable: false
        deprecated: false
      matricula:
        custom: []
        name: matricula
        description: 'Matrícula del vehículo.'
        required: true
        example: 1234ABC
        type: string
        enumValues: []
        exampleWasSpecified: true
        nullable: false
        deprecated: false
      id_color:
        custom: []
        name: id_color
        description: 'ID del color.'
        required: false
        example: 1
        type: integer
        enumValues: []
        exampleWasSpecified: true
        nullable: true
        deprecated: false
      temp_color:
        custom: []
        name: temp_color
        description: 'This field is required when <code>id_color</code> is not present. Must not be greater than 50 characters.'
        required: false
        example: g
        type: string
        enumValues: []
        exampleWasSpecified: false
        nullable: true
        deprecated: false
      descripcion:
        custom: []
        name: descripcion
        description: 'Descripción detallada.'
        required: true
        example: 'Coche en perfecto estado...'
        type: string
        enumValues: []
        exampleWasSpecified: true
        nullable: false
        deprecated: false
      image:
        custom: []
        name: image
        description: 'Imagen del vehículo.'
        required: false
        example: null
        type: file
        enumValues: []
        exampleWasSpecified: false
        nullable: true
        deprecated: false
      id_listing_type:
        custom: []
        name: id_listing_type
        description: 'ID del tipo de listado (Venta/Alquiler).'
        required: true
        example: 1
        type: integer
        enumValues: []
        exampleWasSpecified: true
        nullable: false
        deprecated: false
    cleanBodyParameters:
      id_marca: 1
      id_modelo: 1
      temp_brand: Tesla
      temp_model: Cybertruck
      id_combustible: 1
      id_marcha: 1
      precio: 15000.0
      anyo_matri: 2020
      km: 50000
      matricula: 1234ABC
      id_color: 1
      temp_color: g
      descripcion: 'Coche en perfecto estado...'
      id_listing_type: 1
    fileParameters:
      image: null
    responses:
      -
        custom: []
        status: 201
        content: |-
          {
           "message": "Coche creado correctamente. Está pendiente de revisión por un supervisor.",
           "data": {
               "id": 10,
               "title": "Toyota Corolla 2020",
               "id_estado": 4,
               "created_at": "2023-10-27T10:00:00.000000Z"
           }
          }
        headers: []
        description: ''
      -
        custom: []
        status: 403
        content: |-
          {
           "message": "El usuario no tiene un perfil de vendedor asociado."
          }
        headers: []
        description: ''
    responseFields: []
    auth:
      - headers
      - Authorization
      - 'Bearer 6g43cv8PD1aE5beadkZfhV6'
    controller: null
    method: null
    route: null
  -
    custom: []
    httpMethods:
      - PUT
      - PATCH
    uri: 'api/cars/{id}'
    metadata:
      custom: []
      groupName: Coches
      groupDescription: |-

        Gestión del inventario de vehículos.
      subgroup: ''
      subgroupDescription: ''
      title: 'Actualizar Coche'
      description: 'Modifica los datos de un coche existente. Solo el dueño puede hacerlo y solo si el coche está en estado "Pendiente" (4).'
      authenticated: true
      deprecated: false
    headers:
      Authorization: 'Bearer e.g. 1|laravel_sanctum_token...'
      Content-Type: multipart/form-data
      Accept: application/json
    urlParameters:
      id:
        custom: []
        name: id
        description: 'El ID del coche.'
        required: true
        example: 1
        type: integer
        enumValues: []
        exampleWasSpecified: true
        nullable: false
        deprecated: false
    cleanUrlParameters:
      id: 1
    queryParameters: []
    cleanQueryParameters: []
    bodyParameters:
      id_marca:
        custom: []
        name: id_marca
        description: 'The <code>id</code> of an existing record in the brands table.'
        required: false
        example: null
        type: string
        enumValues: []
        exampleWasSpecified: false
        nullable: true
        deprecated: false
      id_modelo:
        custom: []
        name: id_modelo
        description: 'The <code>id</code> of an existing record in the car_models table.'
        required: false
        example: null
        type: string
        enumValues: []
        exampleWasSpecified: false
        nullable: true
        deprecated: false
      id_combustible:
        custom: []
        name: id_combustible
        description: 'The <code>id</code> of an existing record in the fuels table.'
        required: true
        example: 16
        type: integer
        enumValues: []
        exampleWasSpecified: false
        nullable: false
        deprecated: false
      id_marcha:
        custom: []
        name: id_marcha
        description: 'The <code>id</code> of an existing record in the gears table.'
        required: true
        example: 16
        type: integer
        enumValues: []
        exampleWasSpecified: false
        nullable: false
        deprecated: false
      precio:
        custom: []
        name: precio
        description: 'Nuevo precio.'
        required: false
        example: 14500.0
        type: number
        enumValues: []
        exampleWasSpecified: true
        nullable: false
        deprecated: false
      anyo_matri:
        custom: []
        name: anyo_matri
        description: 'Must be at least 1900. Must not be greater than 2027.'
        required: true
        example: 7
        type: integer
        enumValues: []
        exampleWasSpecified: false
        nullable: false
        deprecated: false
      km:
        custom: []
        name: km
        description: ''
        required: true
        example: 16
        type: integer
        enumValues: []
        exampleWasSpecified: false
        nullable: false
        deprecated: false
      matricula:
        custom: []
        name: matricula
        description: 'Must not be greater than 255 characters.'
        required: true
        example: 'n'
        type: string
        enumValues: []
        exampleWasSpecified: false
        nullable: false
        deprecated: false
      id_color:
        custom: []
        name: id_color
        description: 'The <code>id</code> of an existing record in the colors table.'
        required: false
        example: null
        type: string
        enumValues: []
        exampleWasSpecified: false
        nullable: true
        deprecated: false
      descripcion:
        custom: []
        name: descripcion
        description: 'Nueva descripción.'
        required: false
        example: architecto
        type: string
        enumValues: []
        exampleWasSpecified: false
        nullable: false
        deprecated: false
      image:
        custom: []
        name: image
        description: 'Must be an image. Must not be greater than 2048 kilobytes.'
        required: false
        example: null
        type: file
        enumValues: []
        exampleWasSpecified: false
        nullable: true
        deprecated: false
    cleanBodyParameters:
      id_combustible: 16
      id_marcha: 16
      precio: 14500.0
      anyo_matri: 7
      km: 16
      matricula: 'n'
      descripcion: architecto
    fileParameters:
      image: null
    responses:
      -
        custom: []
        status: 200
        content: |-
          {
           "id": 1,
           "title": "Toyota Corolla 2020",
           "precio": 14500,
           "updated_at": "2023-10-28T12:00:00.000000Z"
          }
        headers: []
        description: ''
      -
        custom: []
        status: 403
        content: |-
          {
           "message": "No tienes permiso para editar este coche."
          }
        headers: []
        description: ''
    responseFields: []
    auth:
      - headers
      - Authorization
      - 'Bearer 6g43cv8PD1aE5beadkZfhV6'
    controller: null
    method: null
    route: null
  -
    custom: []
    httpMethods:
      - DELETE
    uri: 'api/cars/{id}'
    metadata:
      custom: []
      groupName: Coches
      groupDescription: |-

        Gestión del inventario de vehículos.
      subgroup: ''
      subgroupDescription: ''
      title: 'Eliminar Coche'
      description: 'Elimina un coche del sistema. Solo el dueño puede hacerlo.'
      authenticated: true
      deprecated: false
    headers:
      Authorization: 'Bearer e.g. 1|laravel_sanctum_token...'
      Content-Type: application/json
      Accept: application/json
    urlParameters:
      id:
        custom: []
        name: id
        description: 'El ID del coche.'
        required: true
        example: 1
        type: integer
        enumValues: []
        exampleWasSpecified: true
        nullable: false
        deprecated: false
    cleanUrlParameters:
      id: 1
    queryParameters: []
    cleanQueryParameters: []
    bodyParameters: []
    cleanBodyParameters: []
    fileParameters: []
    responses:
      -
        custom: []
        status: 204
        content: '{}'
        headers: []
        description: ''
      -
        custom: []
        status: 403
        content: |-
          {
           "message": "No tienes permiso para eliminar este coche."
          }
        headers: []
        description: ''
    responseFields: []
    auth:
      - headers
      - Authorization
      - 'Bearer 6g43cv8PD1aE5beadkZfhV6'
    controller: null
    method: null
    route: null

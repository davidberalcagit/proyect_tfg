name: Ofertas
description: |-

  Gestión de ofertas de compra y venta.
endpoints:
  -
    custom: []
    httpMethods:
      - GET
    uri: api/offers
    metadata:
      custom: []
      groupName: Ofertas
      groupDescription: |-

        Gestión de ofertas de compra y venta.
      subgroup: ''
      subgroupDescription: ''
      title: |-
        Listar Mis Ofertas
        Muestra las ofertas realizadas por el usuario (como comprador) y las recibidas (como vendedor).
      description: ''
      authenticated: true
      deprecated: false
    headers:
      Authorization: 'Bearer e.g. 1|laravel_sanctum_token...'
      Content-Type: application/json
      Accept: application/json
    urlParameters: []
    cleanUrlParameters: []
    queryParameters:
      page:
        custom: []
        name: page
        description: 'El número de página.'
        required: false
        example: 1
        type: integer
        enumValues: []
        exampleWasSpecified: true
        nullable: false
        deprecated: false
    cleanQueryParameters:
      page: 1
    bodyParameters: []
    cleanBodyParameters: []
    fileParameters: []
    responses:
      -
        custom: []
        status: 200
        content: |-
          {
           "data": [
             {
               "id": 1,
               "cantidad": 14000,
               "estado": "pending",
               "car": { "id": 1, "title": "Toyota Corolla" },
               "buyer": { "id": 2, "nombre_contacto": "Juan Perez" },
               "seller": { "id": 3, "nombre_contacto": "Concesionario X" }
             }
           ],
           "links": { ... },
           "meta": { ... }
          }
        headers: []
        description: ''
    responseFields: []
    auth:
      - headers
      - Authorization
      - 'Bearer 6g43cv8PD1aE5beadkZfhV6'
    controller: null
    method: null
    route: null
  -
    custom: []
    httpMethods:
      - POST
    uri: api/offers
    metadata:
      custom: []
      groupName: Ofertas
      groupDescription: |-

        Gestión de ofertas de compra y venta.
      subgroup: ''
      subgroupDescription: ''
      title: 'Crear Oferta'
      description: 'Envía una oferta por un coche.'
      authenticated: true
      deprecated: false
    headers:
      Authorization: 'Bearer e.g. 1|laravel_sanctum_token...'
      Content-Type: application/json
      Accept: application/json
    urlParameters: []
    cleanUrlParameters: []
    queryParameters: []
    cleanQueryParameters: []
    bodyParameters:
      id_vehiculo:
        custom: []
        name: id_vehiculo
        description: 'ID del coche.'
        required: true
        example: 5
        type: integer
        enumValues: []
        exampleWasSpecified: true
        nullable: false
        deprecated: false
      precio_oferta:
        custom: []
        name: precio_oferta
        description: 'Cantidad ofrecida.'
        required: true
        example: 14000.0
        type: number
        enumValues: []
        exampleWasSpecified: true
        nullable: false
        deprecated: false
      mensaje:
        custom: []
        name: mensaje
        description: 'Mensaje opcional para el vendedor.'
        required: false
        example: 'Estoy interesado...'
        type: string
        enumValues: []
        exampleWasSpecified: true
        nullable: true
        deprecated: false
    cleanBodyParameters:
      id_vehiculo: 5
      precio_oferta: 14000.0
      mensaje: 'Estoy interesado...'
    fileParameters: []
    responses:
      -
        custom: []
        status: 201
        content: |-
          {
           "id": 10,
           "id_vehiculo": 5,
           "cantidad": 14000,
           "estado": "pending",
           "created_at": "2023-10-27T10:00:00.000000Z"
          }
        headers: []
        description: ''
      -
        custom: []
        status: 400
        content: |-
          {
           "message": "No puedes hacer una oferta por tu propio coche."
          }
        headers: []
        description: ''
      -
        custom: []
        status: 409
        content: |-
          {
           "message": "Ya tienes una oferta pendiente para este coche."
          }
        headers: []
        description: ''
    responseFields: []
    auth:
      - headers
      - Authorization
      - 'Bearer 6g43cv8PD1aE5beadkZfhV6'
    controller: null
    method: null
    route: null
  -
    custom: []
    httpMethods:
      - GET
    uri: 'api/offers/{id}'
    metadata:
      custom: []
      groupName: Ofertas
      groupDescription: |-

        Gestión de ofertas de compra y venta.
      subgroup: ''
      subgroupDescription: ''
      title: 'Ver Oferta'
      description: 'Muestra los detalles de una oferta. Solo visible para el comprador o el vendedor.'
      authenticated: true
      deprecated: false
    headers:
      Authorization: 'Bearer e.g. 1|laravel_sanctum_token...'
      Content-Type: application/json
      Accept: application/json
    urlParameters:
      id:
        custom: []
        name: id
        description: 'El ID de la oferta.'
        required: true
        example: 1
        type: integer
        enumValues: []
        exampleWasSpecified: true
        nullable: false
        deprecated: false
    cleanUrlParameters:
      id: 1
    queryParameters: []
    cleanQueryParameters: []
    bodyParameters: []
    cleanBodyParameters: []
    fileParameters: []
    responses:
      -
        custom: []
        status: 200
        content: |-
          {
           "id": 1,
           "cantidad": 14000,
           "estado": "pending",
           "car": { ... },
           "buyer": { ... },
           "seller": { ... }
          }
        headers: []
        description: ''
      -
        custom: []
        status: 403
        content: |-
          {
           "message": "No tienes permiso para ver esta oferta."
          }
        headers: []
        description: ''
    responseFields: []
    auth:
      - headers
      - Authorization
      - 'Bearer 6g43cv8PD1aE5beadkZfhV6'
    controller: null
    method: null
    route: null
  -
    custom: []
    httpMethods:
      - PUT
      - PATCH
    uri: 'api/offers/{id}'
    metadata:
      custom: []
      groupName: Ofertas
      groupDescription: |-

        Gestión de ofertas de compra y venta.
      subgroup: ''
      subgroupDescription: ''
      title: 'Actualizar Oferta'
      description: |-
        Permite modificar una oferta.
        - El **comprador** puede cambiar el precio (`precio_oferta`) si está pendiente.
        - El **vendedor** puede cambiar el estado (`estado`) a 'aceptada' o 'rechazada'.
      authenticated: true
      deprecated: false
    headers:
      Authorization: 'Bearer e.g. 1|laravel_sanctum_token...'
      Content-Type: application/json
      Accept: application/json
    urlParameters:
      id:
        custom: []
        name: id
        description: 'El ID de la oferta.'
        required: true
        example: 1
        type: integer
        enumValues: []
        exampleWasSpecified: true
        nullable: false
        deprecated: false
    cleanUrlParameters:
      id: 1
    queryParameters: []
    cleanQueryParameters: []
    bodyParameters:
      precio_oferta:
        custom: []
        name: precio_oferta
        description: 'Nuevo precio (solo comprador).'
        required: false
        example: 14500.0
        type: number
        enumValues: []
        exampleWasSpecified: true
        nullable: false
        deprecated: false
      estado:
        custom: []
        name: estado
        description: 'Nuevo estado (solo vendedor).'
        required: false
        example: aceptada
        type: string
        enumValues: []
        exampleWasSpecified: true
        nullable: false
        deprecated: false
    cleanBodyParameters:
      precio_oferta: 14500.0
      estado: aceptada
    fileParameters: []
    responses:
      -
        custom: []
        status: 200
        content: |-
          {
           "id": 1,
           "cantidad": 14500,
           "estado": "pending"
          }
        headers: []
        description: ''
    responseFields: []
    auth:
      - headers
      - Authorization
      - 'Bearer 6g43cv8PD1aE5beadkZfhV6'
    controller: null
    method: null
    route: null
  -
    custom: []
    httpMethods:
      - DELETE
    uri: 'api/offers/{id}'
    metadata:
      custom: []
      groupName: Ofertas
      groupDescription: |-

        Gestión de ofertas de compra y venta.
      subgroup: ''
      subgroupDescription: ''
      title: 'Eliminar Oferta'
      description: 'Cancela (elimina) una oferta pendiente. Solo el creador puede hacerlo.'
      authenticated: true
      deprecated: false
    headers:
      Authorization: 'Bearer e.g. 1|laravel_sanctum_token...'
      Content-Type: application/json
      Accept: application/json
    urlParameters:
      id:
        custom: []
        name: id
        description: 'El ID de la oferta.'
        required: true
        example: 1
        type: integer
        enumValues: []
        exampleWasSpecified: true
        nullable: false
        deprecated: false
    cleanUrlParameters:
      id: 1
    queryParameters: []
    cleanQueryParameters: []
    bodyParameters: []
    cleanBodyParameters: []
    fileParameters: []
    responses:
      -
        custom: []
        status: 204
        content: '{}'
        headers: []
        description: ''
      -
        custom: []
        status: 403
        content: |-
          {
           "message": "Solo el creador de la oferta puede eliminarla."
          }
        headers: []
        description: ''
    responseFields: []
    auth:
      - headers
      - Authorization
      - 'Bearer 6g43cv8PD1aE5beadkZfhV6'
    controller: null
    method: null
    route: null
